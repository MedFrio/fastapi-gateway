# ğŸ½ï¸ API Gateway - Projet Microservices Restaurant

Ce projet constitue l'**API Gateway** d'une application de gestion de commandes pour un restaurant. Il s'inscrit dans une architecture **microservices** rÃ©partie entre plusieurs domaines mÃ©tier : client, commande, cuisine et livraison.

## ğŸ“Œ Objectifs

- Servir de **point d'entrÃ©e unique** pour le Frontend.
- Centraliser les appels vers les microservices.
- Simuler les Ã©changes avec les services pour permettre une dÃ©mo complÃ¨te mÃªme sans services rÃ©els.
- GÃ©rer les erreurs et **assurer un mode dÃ©gradÃ©**.

---

## ğŸ› ï¸ Technologies utilisÃ©es

| Composant     | Techno      |
|---------------|-------------|
| API Gateway   | FastAPI     |
| HTTP Client   | HTTPX       |
| Langage       | Python 3.10+|

---

## ğŸ“ Architecture

api_gateway/
â”œâ”€â”€ main.py # Point dâ€™entrÃ©e de lâ€™API Gateway
â”œâ”€â”€ services/ # Regroupe les routes par domaine fonctionnel
â”‚ â”œâ”€â”€ auth.py # Authentification utilisateurs
â”‚ â”œâ”€â”€ orders.py # Commandes client
â”‚ â”œâ”€â”€ kitchen.py # Statut prÃ©paration cuisine
â”‚ â””â”€â”€ delivery.py # Livraison des commandes
â”œâ”€â”€ utils/
â”‚ â””â”€â”€ http_client.py # Gestion centralisÃ©e des requÃªtes HTTP (simule les microservices)
â””â”€â”€ requirements.txt # DÃ©pendances Python

---

## ğŸš€ Lancer le projet

### 1. Cloner le dÃ©pÃ´t
```bash
git clone <url_du_repo>
cd api_gateway
```
### 2. CrÃ©er et activer un environnement virtuel
```bash
python -m venv venv
source venv/bin/activate  # sur Windows : venv\Scripts\activate
```
### 3. Installer les dÃ©pendances
```bash
pip install -r requirements.txt
```
### 4. Lancer l'API Gateway
```bash
uvicorn main:app --reload --port 8000
```

## ğŸ”— Endpoints disponibles

| MÃ©thode | Endpoint              | Description                                         |
|---------|-----------------------|-----------------------------------------------------|
| `POST`  | `/auth/login`         | Connexion utilisateur simulÃ©e (client, chef, livreur) |
| `GET`   | `/orders`             | Liste des commandes                                 |
| `POST`  | `/orders`             | CrÃ©ation dâ€™une commande                             |
| `GET`   | `/kitchen/orders`     | Commandes Ã  prÃ©parer                                |
| `POST`  | `/kitchen/update`     | Mettre Ã  jour le statut cuisine                     |
| `GET`   | `/delivery/assigned`  | Liste des commandes Ã  livrer                        |
| `POST`  | `/delivery/update`    | Mise Ã  jour de la livraison                         |

---

## ğŸ§ª Simulation de panne & mode dÃ©gradÃ©

Le module `http_client.py` simule les appels vers les microservices.  
En cas de panne ou dâ€™indisponibilitÃ© (par exemple, suppression temporaire dâ€™une route), lâ€™API Gateway :

- Renvoie un message dâ€™erreur clair au frontend
- Garde les autres fonctionnalitÃ©s opÃ©rationnelles

---

## âœ… Objectifs pÃ©dagogiques couverts

- âœ… PrÃ©sentation claire du contexte et des services
- âœ… DÃ©monstration fonctionnelle complÃ¨te (auth, commande, cuisine, livraison)
- âœ… Architecture Microservices respectÃ©e (Gateway + dÃ©coupage logique)
- âœ… Simulation panne gÃ©rÃ©e efficacement (retour JSON dâ€™erreur)
